# 2. Dynatrace Log Monitoring

There are 4 main stages to Dynatrace Log Monitoring setup
1. [Log Ingestion](#Log%20Ingestion%20%7C%20Log%20Ingestion)
2. [Log Processing](#Log%20Processing%20(parsing)%7C%20Log%20Processing%20(parsing))
3. [Log Data Analytics](#Log%20Data%20Analytics%20%7C%20Log%20Data%20Analytics)
4. [Log Data Alerting](#Log%20Data%20Alerting%20%7C%20Log%20Data%20Alerting)

## Log Ingestion
This is the first step of Dynatrace Log Monitoring where logs are sent to Dynatrace Servers (ingested).

Dynatrace accepts logs from/through 4 different sources:
1. OneAgent
2. Cloud Providers
	- AWS
	- Azure
	- GCP
3. Open Source
	- Fluentd
	- Logstash
4. Generic Log Ingest (Dynatrace API)

## Log Processing (parsing)
Log Processing is the second step in Dynatrace Log Monitoring setup. In this step, log lines are reshaped into required format (using processing rules) for better understanding, efficient filtering and data extraction. As discussed previously, without processing, Log Monitoring systems may not be able to separate out important parts of the log message.

Processing Language used at this stage is  [Dynatrace Pattern Language](https://www.dynatrace.com/support/help/shortlink/dpl-dynatrace-pattern-language-hub)

NOTE: Logs powered by Grail has the capability to parse logs in-line during a log search. This in-line parsing (we will be discussing this later) is done using [Dynatrace Query Language](https://www.dynatrace.com/support/help/shortlink/dql-dynatrace-query-language-hub).

## Log Data Analytics
This is the third step of Dynatrace Log Monitoring. Once the data is in Dynatrace and parsed, it is available for viewing through  'Log Viewer'. In this step more actions like custom log metric creation & custom attributes (capture of specific value) setup are also available.

Log Data Analytics step is where Dynatrace Log Monitoring capability diverges into Log Monitoring Classic (LQL) and Logs powered by Grail. Log Monitoring Classic (LQL) is the common name for combined Log Monitoring 1.0 and Log Monitoring 2.0 capabilities and Logs powered by Grail is the latest and most advanced offering.

Log Viewer has a search bar with dropdown selection options, but also has an advanced view for custom queries. The advanced search query language will depend on your Log Monitoring version.

Search Language for LQL is [Dynatrace Search Query Language](https://www.dynatrace.com/support/help/how-to-use-dynatrace/log-monitoring/analyze-log-data/log-viewer#sql)

Search Language for Logs powered by Grail [Dynatrace Query Language](https://www.dynatrace.com/support/help/shortlink/dql-dynatrace-query-language-hub)


## Log Data Alerting

The final step in Log Monitoring is to setup alerts based on log content. This is a 2 step process:
1. Create Log Metrics (based on rules)
2. Setup Alerts - Using Metric events or Log Events

Let's next dive into each of these stages.

<br/>

### NEXT: [3. Log Ingestion](3.%20Log%20Ingestion.md)